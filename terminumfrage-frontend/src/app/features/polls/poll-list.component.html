<section class="poll-list">
  <header class="section-head">
    <h1>Meine Umfragen</h1>
    <a class="primary" routerLink="/polls/new">Neue Umfrage</a>
  </header>

  <ng-container *ngIf="polls$ | async as polls; else loading">
    <div class="poll-grid" *ngIf="polls.length > 0; else empty">
      <article *ngFor="let poll of polls">
        <span class="badge" [ngClass]="poll.status.toLowerCase()">{{ poll.status }}</span>
        <h2>{{ poll.title }}</h2>
        <p class="meta">Erstellt am {{ poll.createdAt | date: 'medium' }}</p>
        <a [routerLink]="['/polls', poll.id]" class="link">Details anzeigen</a>
      </article>
    </div>
  </ng-container>

  <ng-template #empty>
    <p class="empty">
      Noch keine Umfragen vorhanden. Starte mit einer
      <a routerLink="/polls/new">neuen Umfrage</a>.
    </p>
  </ng-template>

  <ng-template #loading>
    <p class="loading">Umfragen werden geladen â€¦</p>
  </ng-template>
</section>
